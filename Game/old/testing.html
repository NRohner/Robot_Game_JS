<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animated Line</title>
  <style>
    canvas {
      border: 1px solid #000;
    }
  </style>
</head>
<body>
  <canvas id="myCanvas" width="500" height="500"></canvas>

  <script>

    function findArcIntersect (point1, point2, r) {     // finds the tcp location given the two primary arms and the secondary arm lenght
        let a = point1[0];
        let b = point1[1];
        let c = point2[0];
        let d = point2[1];
            
        let numerator = (4 * Math.pow(a, 3) - 4 * Math.pow(a, 2) * c + Math.sqrt(
            Math.pow(-4 * Math.pow(a, 3) + 4 * Math.pow(a, 2) * c - 4 * a * Math.pow(b, 2) + 8 * a * b * d + 4 * a * Math.pow(c, 2) - 4 * a * Math.pow(d, 2) - 4 * Math.pow(b, 2) * c + 8 * b * c * d - 4 * Math.pow(c, 3) - 4 * c * Math.pow(d, 2), 2) - 
            4 * (4 * Math.pow(a, 2) - 8 * a * c + 4 * Math.pow(b, 2) - 8 * b * d + 4 * Math.pow(c, 2) + 4 * Math.pow(d, 2)) * 
            (Math.pow(a, 4) + 2 * Math.pow(a, 2) * Math.pow(b, 2) - 4 * Math.pow(a, 2) * b * d - 2 * Math.pow(a, 2) * Math.pow(c, 2) + 2 * Math.pow(a, 2) * Math.pow(d, 2) + Math.pow(b, 4) - 4 * Math.pow(b, 3) * d + 2 * Math.pow(b, 2) * Math.pow(c, 2) + 
            6 * Math.pow(b, 2) * Math.pow(d, 2) - 4 * Math.pow(b, 2) * Math.pow(r, 2) - 4 * b * Math.pow(c, 2) * d - 4 * b * Math.pow(d, 3) + 8 * b * d * Math.pow(r, 2) + Math.pow(c, 4) + 2 * Math.pow(c, 2) * Math.pow(d, 2) + Math.pow(d, 4) - 4 * Math.pow(d, 2) * Math.pow(r, 2))) + 
            4 * a * Math.pow(b, 2) - 8 * a * b * d - 4 * a * Math.pow(c, 2) + 4 * a * Math.pow(d, 2) + 4 * Math.pow(b, 2) * c - 8 * b * c * d + 4 * Math.pow(c, 3) + 4 * c * Math.pow(d, 2));

        let denominator = 2 * (4 * Math.pow(a, 2) - 8 * a * c + 4 * Math.pow(b, 2) - 8 * b * d + 4 * Math.pow(c, 2) + 4 * Math.pow(d, 2));

        let x = numerator / denominator;

        var y = b + Math.sqrt(-Math.pow(a, 2) + 2 * a * x + Math.pow(r, 2) - Math.pow(x, 2));
        

        console.log("x: " + x)
        console.log("y: " + y)

        return [x, y]
    }


    var point = findArcIntersect([14.865, 39.999], [-54.849, 3.467], 85);
    console.log(point);


  </script>
</body>
</html>
